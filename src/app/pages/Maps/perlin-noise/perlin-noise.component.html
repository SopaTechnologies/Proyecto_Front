<div class="map-container">
      <div class="header">
        <div class="title-section">
          <h1>AI Hexagonal Map Generator</h1>
          <p>Procedural terrain generation using Perlin noise and hexagonal grids</p>
        </div>
        <div class="controls">
          <button (click)="toggleSettings()" class="btn btn-blue">
            <span class="icon">‚öôÔ∏è</span>
            Settings
          </button>
          <button (click)="generateNewMap()" class="btn btn-green">
            <span class="icon">üîÑ</span>
            New Map
          </button>
          <button (click)="downloadMap()" class="btn btn-purple">
            <span class="icon">‚¨áÔ∏è</span>
            Export
          </button>
        </div>
      </div>

      <div class="settings-panel" *ngIf="showSettings">
        <h2>Generation Settings</h2>
        <div class="settings-grid">
          <div class="setting-item">
            <label>Seed</label>
            <input type="number" [(ngModel)]="seed" (change)="generateNewMap()" />
          </div>
          <div class="setting-item">
            <label>Map Size: {{mapSize}}</label>
            <input type="range" min="10" max="50" [(ngModel)]="mapSize" (change)="generateNewMap()" />
          </div>
          <div class="setting-item">
            <label>Hex Size: {{hexSize}}px</label>
            <input type="range" min="8" max="25" [(ngModel)]="hexSize" (change)="renderMap()" />
          </div>
          <div class="setting-item">
            <label>Noise Scale: {{scale.toFixed(3)}}</label>
            <input type="range" min="0.01" max="0.15" step="0.005" [(ngModel)]="scale" (change)="generateNewMap()" />
          </div>
        </div>
      </div>

      <div class="content-grid">
        <div class="canvas-section">
          <canvas 
            #mapCanvas
            width="900" 
            height="700"
            (click)="onCanvasClick($event)"
            (mousemove)="onCanvasHover($event)">
          </canvas>
        </div>

        <div class="sidebar">
          <div class="panel legend-panel">
            <h3>Terrain Legend</h3>
            <div class="terrain-list">
              <div class="terrain-item" *ngFor="let terrain of terrainTypes">
                <div class="color-box" [style.background-color]="terrain.color"></div>
                <span>{{terrain.name}}</span>
              </div>
            </div>
          </div>

          <div class="panel info-panel" *ngIf="selectedTile">
            <h3>Selected Hex</h3>
            <div class="info-list">
              <div class="info-item">
                <strong>Coordinates:</strong> ({{selectedTile.q}}, {{selectedTile.r}})
              </div>
              <div class="info-item">
                <strong>Type:</strong> {{selectedTile.type.replace('_', ' ')}}
              </div>
              <div class="info-item">
                <strong>Elevation:</strong> {{(selectedTile.elevation * 100).toFixed(1)}}%
              </div>
              <div class="info-item">
                <strong>Moisture:</strong> {{(selectedTile.moisture * 100).toFixed(1)}}%
              </div>
              <div class="info-item">
                <strong>Temperature:</strong> {{(selectedTile.temperature * 100).toFixed(1)}}%
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>