<form [formGroup]="form">
    <div>
        <h2 class="mb-0">{{ isEdit ? 'Edit Product' : 'Add Product' }}</h2>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="mb-2">
                <label class="mb-1" for="name">Nombre*</label>
                <input id="name" formControlName="name" type="text" class="form-control">
                @if (form.controls['name'].invalid && (form.controls['name'].dirty || form.controls['name'].touched)) {
                    <p class="text-danger my-1 p-absolute">Name is required</p>
                }
            </div>
            <div>
                <div class="col-md-6">
                    <div class="mb-2">
                        <label class="mb-1" for="description">Descripción</label>
                        <input id="description" formControlName="description" type="text" sptep="0.01" class="form-control" class=form-control>
                    </div>
                </div>
            </div>

            <div>
                <div class="col-md-6">
                    <div class="mb-2">
                        <label class="mb-1" for="price">Precio</label>
                        <input id="precio" formControlName="precio" type="number" sptep="0.01" class="form-control" class=form-control>
                    </div>
                </div>
            </div>

            <div>
                <div class="col-md-6">
                    <div class="mb-2">
                        <label class="mb-1" for="amount">Cantidad</label>
                        <input id="amount" formControlName="amount" type="number" sptep="0.01" class="form-control" class=form-control>
                    </div>
                </div>
            </div>
        </div>
        @if (showCategorySelector) {
            <div class="col-md-6">
                <div class="mb-2">
                    <label class="mb-1" for="categoryId">Categoría*</label>
                    <select id="categoryId" formControlName="categoryId" class="form-control">
                        <option value="">Seleccione una Categoría</option>
                        @for (category of categories; track category.id) {
                            <option [value]="category.id">{{ category.name }}</option>
                        }
                    </select>
                    @if (form.controls['categoryId'].invalid && (form.controls['categoryId'].dirty || form.controls['categoryId'].touched)) {
                        <p class="text-danger my-1 p-absolute">Category is required</p>
                    }
                </div>
            </div>
        }

        <div class="row">
            <div class="col-12 d-flex justify-content-end mt-3">
                <div class="">
                    <button (click)="callSaveMethod.emit(form.value)" [disabled]="form.invalid" class="btn btn-primary" type="button">
                        {{ isEdit ? 'Update' : 'Add Product' }}
                    </button>
                </div>
            </div>

    </div>