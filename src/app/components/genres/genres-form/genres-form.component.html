<div class="modal-form-container">
  <div class="modal-header-custom">
    <h2>{{ genreForm.value.id ? 'Editar Género' : 'Nuevo Género' }}</h2>
    <button type="button" class="btn-close-modal" (click)="cancel()">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <form [formGroup]="genreForm" (ngSubmit)="onSubmit()" class="modal-form">
    <div class="form-group">
      <label for="name">Nombre del género</label>
      <input
        id="name"
        type="text"
        formControlName="name"
        placeholder="Ingresa el nombre del género"
        [class.error]="nameCtrl?.invalid && nameCtrl?.touched"
      />
      <p *ngIf="nameCtrl?.invalid && nameCtrl?.touched" class="error-message">
        El nombre es obligatorio (mínimo 3 caracteres).
      </p>
    </div>

    <div class="form-actions">
      <button
        type="button"
        (click)="cancel()"
        class="btn-cancel"
      >
        Cancelar
      </button>

      <button
        type="submit"
        class="btn-submit"
        [disabled]="loading()"
      >
        <span *ngIf="!loading()">
          {{ genreForm.value.id ? 'Actualizar' : 'Guardar' }}
        </span>
        <span *ngIf="loading()">
          <i class="fas fa-spinner fa-spin"></i> Guardando...
        </span>
      </button>
    </div>
  </form>
</div>